{"ast":null,"code":"var _jsxFileName = \"D:\\\\Development\\\\ReactProjects\\\\Scraper\\\\Calendar\\\\calendar\\\\src\\\\components\\\\calendar\\\\Calendar.jsx\";\nimport React from \"react\";\nimport \"./Calendar.css\";\nimport NewCalendarItem from \"../newitem/NewItem\";\nimport AppointmentSummary from \"../appointmentsummary/AppointmentSummary\";\nimport dateFnsFormat from \"date-fns/format\";\nimport dateFnsSOW from \"date-fns/startOfWeek\";\nimport dateFnsEOW from \"date-fns/endOfWeek\";\nimport dateFnsAdddays from \"date-fns/addDays\";\nimport dateFnsSOM from \"date-fns/startOfMonth\";\nimport dateFnsEOM from \"date-fns/endOfMonth\";\n\nclass Calendar extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      appointmentSummaryList: [],\n      appointmentCount: 0,\n      currentMonth: new Date(),\n      selectedDay: 'Select a date...'\n    };\n    this.SelectDayClick = this.SelectDayClick.bind(this);\n    this.updateAppointmentList = this.updateAppointmentList.bind(this);\n  } //update the list of appointments\n\n\n  updateAppointmentList(appointmentItem) {\n    //Todo: check the appointment time, if duplicate warn the user and change the way the key is built for the days appointment list from the appointment time.\n    let appointmentItems = this.state.appointmentSummaryList;\n    appointmentItem.id = this.state.appointmentCount.length + 1;\n    appointmentItems.push(appointmentItem);\n    this.setState({\n      appointmentSummaryList: appointmentItems,\n      appointmentCount: appointmentItem.id\n    });\n  }\n\n  SelectDayClick(day) {\n    //Set the selected day\n    let dayText = dateFnsFormat(this.state.currentMonth, \"MMMM\") + day + ' ';\n    this.setState({\n      selectedDay: dayText\n    });\n  }\n\n  renderHeader() {\n    const dateFormat = \"MMMM yyyy\";\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, dateFnsFormat(this.state.currentMonth, dateFormat)));\n  }\n\n  renderDays() {\n    const dateFormat = \"EEEE\";\n    const days = [];\n    let startDate = dateFnsSOW(this.state.currentMonth);\n\n    for (let i = 0; i < 7; i++) {\n      days.push(React.createElement(\"div\", {\n        className: \"col\",\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, dateFnsFormat(dateFnsAdddays(startDate, i), dateFormat)));\n    }\n\n    return React.createElement(\"div\", {\n      className: \"days row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, days);\n  }\n\n  renderMonthDays() {\n    const currentMonth = this.state.currentMonth; //retrive the current month and selected date from the state\n\n    const monthStart = dateFnsSOM(currentMonth); //need to know SOM\n\n    const monthEnd = dateFnsEOM(currentMonth); // and EOM\n\n    const startDate = dateFnsSOW(monthStart);\n    const endDate = dateFnsEOW(monthEnd);\n    const dateFormat = \"d\"; //display single digit day number\n\n    const rows = [];\n    let days = [];\n    let day = startDate;\n    let formattedDate = \"\"; //loop through the days in the month \n\n    while (day <= endDate) {\n      for (let iday = 0; iday < 7; iday++) {\n        formattedDate = dateFnsFormat(day, dateFormat); //apply same formatting as the day columns\n\n        let newDayHTML = React.createElement(\"div\", {\n          className: \"col monthDays\",\n          key: iday,\n          id: iday,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          onClick: this.SelectDayClick.bind(this, formattedDate),\n          className: \"smallDayNumber\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, formattedDate));\n        days.push(newDayHTML);\n        day = dateFnsAdddays(day, 1);\n      } //add the colection of days to the row\n\n\n      rows.push(React.createElement(\"div\", {\n        className: \"row\",\n        key: day,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, days));\n      days = [];\n    }\n\n    return React.createElement(\"div\", {\n      className: \"body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, rows);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, this.renderHeader(), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, this.renderDays()), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, this.renderMonthDays()), React.createElement(\"div\", {\n      className: \"calendarControls calendarInputControls\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(NewCalendarItem, {\n      updateAppt: this.updateAppointmentList,\n      key: this.state.selectedDay,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    })), React.createElement(AppointmentSummary, {\n      key: this.state.selectedDay,\n      className: \"summaryAppointments\",\n      selectedDay: this.state.selectedDay,\n      appointments: this.state.appointmentSummaryList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Calendar;","map":{"version":3,"sources":["D:/Development/ReactProjects/Scraper/Calendar/calendar/src/components/calendar/Calendar.jsx"],"names":["React","NewCalendarItem","AppointmentSummary","dateFnsFormat","dateFnsSOW","dateFnsEOW","dateFnsAdddays","dateFnsSOM","dateFnsEOM","Calendar","Component","constructor","state","appointmentSummaryList","appointmentCount","currentMonth","Date","selectedDay","SelectDayClick","bind","updateAppointmentList","appointmentItem","appointmentItems","id","length","push","setState","day","dayText","renderHeader","dateFormat","renderDays","days","startDate","i","renderMonthDays","monthStart","monthEnd","endDate","rows","formattedDate","iday","newDayHTML","render"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"./Calendar.css\";\r\nimport NewCalendarItem from \"../newitem/NewItem\";\r\nimport AppointmentSummary from \"../appointmentsummary/AppointmentSummary\";\r\nimport dateFnsFormat  from \"date-fns/format\";\r\nimport dateFnsSOW from \"date-fns/startOfWeek\";\r\nimport dateFnsEOW from \"date-fns/endOfWeek\";\r\nimport dateFnsAdddays from \"date-fns/addDays\";\r\nimport dateFnsSOM from \"date-fns/startOfMonth\";\r\nimport dateFnsEOM from \"date-fns/endOfMonth\";\r\n\r\n\r\nclass Calendar extends React.Component{\r\n    constructor(){\r\n        super();\r\n    this.state = {\r\n        appointmentSummaryList:[],\r\n        appointmentCount:0,\r\n        currentMonth: new Date(),    \r\n        selectedDay: 'Select a date...'    \r\n        \r\n      };\r\n      this.SelectDayClick = this.SelectDayClick.bind(this);\r\n      this.updateAppointmentList = this.updateAppointmentList.bind(this);\r\n    }\r\n    \r\n    //update the list of appointments\r\n    updateAppointmentList(appointmentItem){\r\n        \r\n        //Todo: check the appointment time, if duplicate warn the user and change the way the key is built for the days appointment list from the appointment time.\r\n        let appointmentItems = this.state.appointmentSummaryList;\r\n        appointmentItem.id =this.state.appointmentCount.length+1;\r\n        \r\n        appointmentItems.push(appointmentItem);\r\n        this.setState({appointmentSummaryList:appointmentItems,appointmentCount:appointmentItem.id});\r\n    }\r\n\r\n      SelectDayClick(day){\r\n          \r\n          //Set the selected day\r\n          let dayText = dateFnsFormat(this.state.currentMonth,\"MMMM\") + day + ' ';\r\n          this.setState({selectedDay:dayText});\r\n          \r\n      }\r\n\r\n    renderHeader(){\r\n        const dateFormat = \"MMMM yyyy\";\r\n\r\n        return(\r\n            <div><span>{dateFnsFormat(this.state.currentMonth, dateFormat)}</span></div>\r\n        ); \r\n    }\r\n\r\n    renderDays(){\r\n        const dateFormat = \"EEEE\";\r\n        const days = [];\r\n        let startDate = dateFnsSOW(this.state.currentMonth);\r\n\r\n        for (let i = 0; i < 7; i++) {\r\n            days.push(\r\n              <div className=\"col\" key={i}>\r\n                {dateFnsFormat(dateFnsAdddays(startDate, i), dateFormat)}\r\n              </div>\r\n            );\r\n          }\r\n\r\n        return(\r\n            <div className=\"days row\">{days}</div>\r\n        );\r\n    }\r\n\r\n    renderMonthDays(){\r\n\r\n        const { currentMonth } = this.state; //retrive the current month and selected date from the state\r\n        const monthStart = dateFnsSOM(currentMonth); //need to know SOM\r\n        const monthEnd = dateFnsEOM(currentMonth); // and EOM\r\n        const startDate = dateFnsSOW(monthStart); \r\n        const endDate = dateFnsEOW(monthEnd);\r\n\r\n        const dateFormat =\"d\"; //display single digit day number\r\n        const rows = [];\r\n\r\n        let days = [];\r\n        let day = startDate;\r\n        let formattedDate =\"\";\r\n        \r\n        //loop through the days in the month \r\n        while(day<=endDate){\r\n          \r\n            for(let iday = 0;iday<7;iday++){\r\n                formattedDate = dateFnsFormat(day,dateFormat);\r\n                //apply same formatting as the day columns\r\n                let newDayHTML =<div className=\"col monthDays\" key = {iday} id={iday}> \r\n                <span onClick={this.SelectDayClick.bind(this,formattedDate)} className=\"smallDayNumber\">{formattedDate}</span>\r\n                </div>;\r\n                days.push(newDayHTML);\r\n                day = dateFnsAdddays(day,1);\r\n            }\r\n              //add the colection of days to the row\r\n        rows.push(<div className=\"row\" key={day}>\r\n            {days}\r\n            </div>);\r\n            days = [];\r\n        }\r\n        return <div className=\"body\">{rows}</div>;\r\n\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div >\r\n                {this.renderHeader()}\r\n                <div>{this.renderDays()}</div>\r\n                <div>{this.renderMonthDays()}</div>\r\n                <div className=\"calendarControls calendarInputControls\">                    \r\n                    <NewCalendarItem updateAppt={this.updateAppointmentList} key={this.state.selectedDay}/>\r\n                </div>\r\n                <AppointmentSummary key={this.state.selectedDay} className=\"summaryAppointments\" selectedDay={this.state.selectedDay} appointments={this.state.appointmentSummaryList}/>\r\n               \r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default Calendar;"]},"metadata":{},"sourceType":"module"}